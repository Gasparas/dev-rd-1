(()=>{"use strict";var t={63:(t,r,e)=>{var o=e(609),a="function"==typeof Object.is?Object.is:function(t,r){return t===r&&(0!==t||1/t==1/r)||t!=t&&r!=r},c=o.useState,n=o.useEffect,i=o.useLayoutEffect,s=o.useDebugValue;function u(t){var r=t.getSnapshot;t=t.value;try{var e=r();return!a(t,e)}catch(t){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(t,r){return r()}:function(t,r){var e=r(),o=c({inst:{value:e,getSnapshot:r}}),a=o[0].inst,l=o[1];return i((function(){a.value=e,a.getSnapshot=r,u(a)&&l({inst:a})}),[t,e,r]),n((function(){return u(a)&&l({inst:a}),t((function(){u(a)&&l({inst:a})}))}),[t]),s(e),e};r.useSyncExternalStore=void 0!==o.useSyncExternalStore?o.useSyncExternalStore:l},940:(t,r,e)=>{var o=e(609),a=e(888),c="function"==typeof Object.is?Object.is:function(t,r){return t===r&&(0!==t||1/t==1/r)||t!=t&&r!=r},n=a.useSyncExternalStore,i=o.useRef,s=o.useEffect,u=o.useMemo,l=o.useDebugValue;r.useSyncExternalStoreWithSelector=function(t,r,e,o,a){var d=i(null);if(null===d.current){var p={hasValue:!1,value:null};d.current=p}else p=d.current;d=u((function(){function t(t){if(!s){if(s=!0,n=t,t=o(t),void 0!==a&&p.hasValue){var r=p.value;if(a(r,t))return i=r}return i=t}if(r=i,c(n,t))return r;var e=o(t);return void 0!==a&&a(r,e)?r:(n=t,i=e)}var n,i,s=!1,u=void 0===e?null:e;return[function(){return t(r())},null===u?void 0:function(){return t(u())}]}),[r,e,o,a]);var y=n(t,d[0],d[1]);return s((function(){p.hasValue=!0,p.value=y}),[y]),l(y),y}},888:(t,r,e)=>{t.exports=e(63)},242:(t,r,e)=>{t.exports=e(940)},609:t=>{t.exports=window.React}},r={};function e(o){var a=r[o];if(void 0!==a)return a.exports;var c=r[o]={exports:{}};return t[o](c,c.exports,e),c.exports}e.n=t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},e.d=(t,r)=>{for(var o in r)e.o(r,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:r[o]})},e.o=(t,r)=>Object.prototype.hasOwnProperty.call(t,r),(()=>{var t=e(609);window.wp.element;const r=t=>{let r;const e=new Set,o=(t,o)=>{const a="function"==typeof t?t(r):t;if(!Object.is(a,r)){const t=r;r=(null!=o?o:"object"!=typeof a||null===a)?a:Object.assign({},r,a),e.forEach((e=>e(r,t)))}},a=()=>r,c={setState:o,getState:a,getInitialState:()=>n,subscribe:t=>(e.add(t),()=>e.delete(t)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),e.clear()}},n=r=t(o,a,c);return c};var o=e(242);const{useDebugValue:a}=t,{useSyncExternalStoreWithSelector:c}=o;let n=!1;const i=t=>t,s=t=>{"function"!=typeof t&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e="function"==typeof t?(t=>t?r(t):r)(t):t,o=(t,r)=>function(t,r=i,e){e&&!n&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),n=!0);const o=c(t.subscribe,t.getState,t.getServerState||t.getInitialState,r,e);return a(o),o}(e,t,r);return Object.assign(o,e),o},u=window.wp.apiFetch;var l=e.n(u);const d=window.lodash;function p(t,r){let e;return function(...o){clearTimeout(e),e=setTimeout((()=>{clearTimeout(e),t(...o)}),r)}}void 0===window.throttle&&(window.throttle=d.throttle),void 0===window.debounce&&(window.debounce=p);const y={},_={},f=t=>{for(const[r,e]of Object.entries(t))console.log(`${r}:`,e)};var m;window.myGlobalStore=window.myGlobalStore||((m=(t,r)=>({totalCartUpdate:0,cartProducts:[],totalQuantity:0,totalPrice:0,totalSalePrice:0,totalDiscountPrice:0,currencyData:{currency_code:"EUR",currency_decimal_separator:".",currency_minor_unit:2,currency_prefix:"",currency_suffix:"€",currency_symbol:"€",currency_thousand_separator:""},isLoading:!1,error:"",isAddingToCart:!1,cartAdditions:{},cartRemovals:{},cartCoupons:[],triggerUpdateProductDisplayPrices:!1,fetchCart:async()=>{try{const r=await l()({path:"/wc/store/cart"}),e=(await l()({path:"/custom/v1/shipping-methods",method:"GET"})).find((t=>"flat_rate"===t.id)),o=e?parseFloat(e.cost):0,a=wc_free_shipping_data.threshold,c=parseFloat(r.totals.total_items)/100||0,n=parseFloat(r.totals.total_price)/100||0,i=n>=a?0:o,s=Math.max(c,0).toFixed(2),u=Math.max(n-i,0).toFixed(2);f({totalPriceMinusShipping:s,totalSalePriceMinusShipping:u}),t({cartProducts:r.items,totalQuantity:r.items.reduce(((t,r)=>t+r.quantity),0),totalPrice:c,totalPriceMinusShipping:s,totalSalePrice:n,totalSalePriceMinusShipping:u,shippingTotal:i,currencyData:{currency_code:r.totals.currency_code,currency_decimal_separator:r.totals.currency_decimal_separator,currency_minor_unit:r.totals.currency_minor_unit,currency_prefix:r.totals.currency_prefix,currency_suffix:r.totals.currency_suffix,currency_symbol:r.totals.currency_symbol,currency_thousand_separator:r.totals.currency_thousand_separator},cartCoupons:r.coupons,error:""})}catch(r){console.error("Error fetching cart:",r),t({error:"Failed to fetch cart."})}},applyCoupon:async r=>{console.log(`Applying coupon: ${r}`);try{const e=await l()({path:"/wc/store/v1/cart/apply-coupon",method:"POST",data:{code:r}});console.log(`Coupon ${r} applied.`);const o=await l()({path:"/wc/store/cart"}),a=(await l()({path:"/custom/v1/shipping-methods",method:"GET"})).find((t=>"flat_rate"===t.id)),c=a?parseFloat(a.cost):0,n=wc_free_shipping_data.threshold,i=parseFloat(o.totals.total_items)/100||0,s=parseFloat(o.totals.total_price)/100||0,u=s>=n?0:c,d=Math.max(s-u,0).toFixed(2),p=Math.max(i,0).toFixed(2);return t({triggerUpdateProductDisplayPrices:!0}),setTimeout((()=>{t({triggerUpdateProductDisplayPrices:!1})}),200),f({totalPriceMinusShipping:p,totalSalePriceMinusShipping:d}),t({totalPrice:parseFloat(e.totals.total_items)/100,totalPriceMinusShipping:p,totalSalePrice:parseFloat(e.totals.total_price)/100,totalSalePriceMinusShipping:d,totalDiscountPrice:parseFloat(e.totals.total_discount)/100,currencyData:{currency_code:e.totals.currency_code,currency_decimal_separator:e.totals.currency_decimal_separator,currency_minor_unit:e.totals.currency_minor_unit,currency_prefix:e.totals.currency_prefix,currency_suffix:e.totals.currency_suffix,currency_symbol:e.totals.currency_symbol,currency_thousand_separator:e.totals.currency_thousand_separator},cartCoupons:e.coupons}),e}catch(t){throw console.error(`Error applying coupon ${r}:`,t),t}},applyCouponNew:async r=>{console.log(`Applying coupon: ${r}`);try{const e=await l()({path:"/wc/store/v1/cart/apply-coupon",method:"POST",data:{code:r}});console.log(`Coupon ${r} applied.`);const o=await l()({path:"/custom/v1/shipping-methods",method:"GET"}),a=(await o.json()).find((t=>"flat_rate"===t.id)),c=a?parseFloat(a.cost):0,n=wc_free_shipping_data.threshold,i=parseFloat(cart.totals.total_items)/100||0,s=parseFloat(cart.totals.total_price)/100||0,u=s>=n?0:c,d=Math.max(i,0).toFixed(2),p=Math.max(s-u,0).toFixed(2);return t({triggerUpdateProductDisplayPrices:!0}),setTimeout((()=>{t({triggerUpdateProductDisplayPrices:!1})}),200),t({cartProducts:cart.items,totalQuantity:cart.items.reduce(((t,r)=>t+r.quantity),0),totalPrice:i,totalPriceMinusShipping:d,totalSalePrice:s,totalSalePriceMinusShipping:p,shippingTotal:u,currencyData:{currency_code:cart.totals.currency_code,currency_decimal_separator:cart.totals.currency_decimal_separator,currency_minor_unit:cart.totals.currency_minor_unit,currency_prefix:cart.totals.currency_prefix,currency_suffix:cart.totals.currency_suffix,currency_symbol:cart.totals.currency_symbol,currency_thousand_separator:cart.totals.currency_thousand_separator},cartCoupons:cart.coupons,error:""}),e}catch(t){throw console.error(`Error applying coupon ${r}:`,t),t}},wc_price:(t,e=!0)=>{const{currency_code:o,currency_decimal_separator:a,currency_minor_unit:c,currency_prefix:n,currency_suffix:i,currency_symbol:s,currency_thousand_separator:u}=r().currencyData,l=t.toFixed(c),[d,p]=l.split(".");let y=n+d.replace(/\B(?=(\d{3})+(?!\d))/g,u);return p&&(y+=a+p),y+=i,e?`<span class="woocommerce-Price-amount amount"><bdi>${y}</bdi></span>`:y},addToCart:e=>{const o=r().cartAdditions[e]||0;t((t=>({cartAdditions:{...t.cartAdditions,[e]:o+1}}))),y[e]||(y[e]=p((async()=>{t({isLoading:!0});try{const o=r().cartAdditions[e];console.log(`Adding ${o} of product ${e} to cart.`),await l()({path:"/wc/store/cart/add-item",method:"POST",data:{id:e,quantity:o}});const a=new Event("added_to_cart");document.dispatchEvent(a),t((t=>({cartAdditions:{...t.cartAdditions,[e]:0}}))),r().fetchCart()}catch(r){console.error("Error adding item to cart:",r),t({error:"Failed to add item to cart."})}finally{t({isLoading:!1})}}),300)),y[e]()},remFromCart:e=>{const o=r().cartRemovals[e]||0;t((t=>({cartRemovals:{...t.cartRemovals,[e]:o+1}}))),_[e]||(_[e]=p((async()=>{t({isLoading:!0});const o=r().cartProducts.find((t=>t.id===e));if(!o)return console.error("Item not found in cart:",e),void t({isLoading:!1});try{const a={key:o.key,quantity:o.quantity-r().cartRemovals[e]};t((t=>({cartRemovals:{...t.cartRemovals,[e]:0}}))),await l()({path:a.quantity>0?"/wc/store/cart/update-item":"/wc/store/cart/remove-item",method:"POST",data:a}),console.log(`Updated cart for product ${e}.`),r().fetchCart()}catch(r){console.error("Error updating cart:",r),t({error:"Failed to update cart."})}finally{t({isLoading:!1}),r().triggerTotalCartUpdate()}}),300)),_[e]()},triggerTotalCartUpdate:()=>{t((t=>({totalCartUpdate:t.totalCartUpdate+1})))}}))?s(m):s),window.myGlobalStore,console.log("view.js"),document.querySelector("#root-total-cart");const h=document.querySelector(".total-cart-data");JSON.parse(h?.textContent||"{}")})()})();