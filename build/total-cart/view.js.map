{"version":3,"file":"total-cart/view.js","mappings":"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","sources":["webpack://rd-shop-product/external window \"React\"","webpack://rd-shop-product/external window [\"wp\",\"apiFetch\"]","webpack://rd-shop-product/external window [\"wp\",\"element\"]","webpack://rd-shop-product/webpack/bootstrap","webpack://rd-shop-product/webpack/runtime/compat get default export","webpack://rd-shop-product/webpack/runtime/define property getters","webpack://rd-shop-product/webpack/runtime/hasOwnProperty shorthand","webpack://rd-shop-product/webpack/runtime/make namespace object","webpack://rd-shop-product/./src/total-cart/view.js"],"sourcesContent":["module.exports = window[\"React\"];","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"element\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Use this file for JavaScript code that you want to run in the front-end\n * on posts/pages that contain this block.\n *\n * When this file is defined as the value of the `viewScript` property\n * in `block.json` it will be enqueued on the front end of the site.\n *\n * Example:\n *\n * ```js\n * {\n *   \"viewScript\": \"file:./view.js\"\n * }\n * ```\n *\n * If you're not making any changes to this file because your project doesn't need any\n * JavaScript running in the front-end, then you should delete this file and remove\n * the `viewScript` property from `block.json`.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-metadata/#view-script\n */\n\nconsole.log(\"view.js\");\n\nimport {\n\tcreateRoot,\n\trender,\n\tcreateContext,\n\tuseContext,\n\tuseState,\n\tuseEffect,\n\tuseCallback,\n} from \"@wordpress/element\";\nimport apiFetch from \"@wordpress/api-fetch\";\nimport useStore from \"your-store-path\"; // Adjust the import path as needed\n\n/**\n * useCart\n */\n\nfunction useCart(productId) {\n\tconst triggerTotalCartUpdate = useStore(\n\t\t(state) => state.triggerTotalCartUpdate,\n\t);\n\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [error, setError] = useState(null);\n\n\tconst [cartProducts, setCartProducts] = useState([]);\n\tconst [totalQuantity, setTotalQuantity] = useState(0);\n\tconst [totalPrice, setTotalPrice] = useState(0);\n\tconst [totalSalePrice, setTotalSalePrice] = useState(0);\n\tconst [salePercentage, setSalePercentage] = useState(0);\n\tconst [appliedCoupon, setAppliedCoupon] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tfetchCart();\n\t\t// console.log('hi');\n\t}, []);\n\n\t// useEffect (() => {\n\t// \tconsole.log('useCart totalQuantity', totalQuantity);\n\t// \t// triggerTotalCartUpdate();\n\t// }, [totalQuantity]);\n\n\tconst fetchCart = () => {\n\t\tapiFetch({ path: \"/wc/store/cart\" }) // Adjusted to an endpoint that returns full cart details\n\t\t\t.then((cart) => {\n\t\t\t\tconst cartProducts = cart.items;\n\t\t\t\tsetCartProducts(cartProducts);\n\t\t\t\t// Assuming the response includes totalItems and total price directly\n\t\t\t\tconst totalQuantity = cart.items.reduce(\n\t\t\t\t\t(acc, item) => acc + item.quantity,\n\t\t\t\t\t0,\n\t\t\t\t);\n\t\t\t\tsetTotalQuantity(totalQuantity);\n\t\t\t\t// console.log('fetchCart totalQuantity', totalQuantity);\n\n\t\t\t\t// Directly use the total price from the cart object\n\t\t\t\tconst totalPrice = parseFloat(cart.totals.total_items) / 100;\n\t\t\t\tsetTotalPrice(totalPrice);\n\t\t\t\tconst totalSalePrice = parseFloat(cart.totals.total_price) / 100;\n\t\t\t\tsetTotalSalePrice(totalSalePrice);\n\t\t\t\t// if (totalPrice != 0) {\n\t\t\t\t// \tconst salePercentage = Math.round(\n\t\t\t\t// \t\t((totalPrice - totalSalePrice) / totalPrice) * 100,\n\t\t\t\t// \t);\n\t\t\t\t// \tsetSalePercentage(salePercentage);\n\t\t\t\t// }\n\t\t\t\t// console.log(\"fetchCart:\", totalPrice);\n\n\t\t\t\tsetIsLoading(false);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.error(\"Error fetching cart:\", err);\n\t\t\t\tsetError(\"Failed to fetch cart.\");\n\t\t\t\tsetIsLoading(false);\n\t\t\t});\n\t};\n\n\tconst addToCart = (productId) => {\n\t\tsetIsLoading(true);\n\n\t\tconst itemData = {\n\t\t\tid: productId,\n\t\t\tquantity: 1,\n\t\t};\n\n\t\tapiFetch({\n\t\t\tpath: \"/wc/store/cart/add-item\",\n\t\t\tmethod: \"POST\",\n\t\t\tdata: itemData,\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tconsole.log(`Add to cart: ${productId}`);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error(\"Error incrementing item:\", error);\n\t\t\t\tsetError(\"Failed to increment item.\");\n\t\t\t\tsetIsLoading(false);\n\t\t\t})\n\t\t\t.finally(() => {\n\t\t\t\tfetchCart(); // Refresh the cart items to reflect the change\n\t\t\t\ttriggerTotalCartUpdate();\n\t\t\t\t// console.log('addToCart finally');\n\t\t\t});\n\t};\n\n\tconst remFromCart = (productId) => {\n\t\tsetIsLoading(true);\n\n\t\t// Find the current item in the cart\n\t\tconst item = cartProducts.find((item) => item.id === productId);\n\t\tif (!item) {\n\t\t\t// If item not found, exit early\n\t\t\tconsole.error(\"Item not found in cart:\", productId);\n\t\t\t// setIsLoading(false);\n\t\t\treturn;\n\t\t}\n\n\t\tif (item.quantity === 1) {\n\t\t\t// If the item's quantity is 1, remove it from the cart\n\t\t\tconst itemData = {\n\t\t\t\tkey: item.key,\n\t\t\t};\n\n\t\t\tapiFetch({\n\t\t\t\tpath: \"/wc/store/cart/remove-item\",\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tdata: itemData,\n\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tconsole.log(`Remove from cart: ${productId}`);\n\t\t\t\t\tfetchCart(); // Refresh the cart items to reflect the change\n\t\t\t\t\ttriggerTotalCartUpdate();\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.error(\"Error removing item:\", error);\n\t\t\t\t\tsetError(\"Failed to remove item.\");\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t});\n\t\t} else {\n\t\t\t// If the item's quantity is greater than 1, decrement its quantity\n\t\t\tconst itemData = {\n\t\t\t\tkey: item.key,\n\t\t\t\tquantity: item.quantity - 1,\n\t\t\t};\n\n\t\t\tapiFetch({\n\t\t\t\tpath: \"/wc/store/cart/update-item\",\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tdata: itemData,\n\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tconsole.log(`Decrease cart quantity: ${productId}`);\n\t\t\t\t\tfetchCart(); // Refresh the cart items to reflect the change\n\t\t\t\t\ttriggerTotalCartUpdate();\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.error(\"Error decrementing item:\", error);\n\t\t\t\t\tsetError(\"Failed to decrement item.\");\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t});\n\t\t}\n\t};\n\n\tconst applyCoupon = (couponCode) => {\n\t\tconsole.log(`Applying coupon: ${couponCode}`);\n\t\treturn apiFetch({\n\t\t\tpath: \"/wc/store/v1/cart/apply-coupon\",\n\t\t\tmethod: \"POST\",\n\t\t\tdata: { code: couponCode },\n\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tconsole.log(`Coupon ${couponCode} applied.`);\n\t\t\t\tsetAppliedCoupon(couponCode); // Update the applied coupon\n\t\t\t\treturn response; // Return response for chaining\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error(`Error applying coupon ${couponCode}:`, error);\n\t\t\t\tthrow error; // Re-throw for catch chaining\n\t\t\t});\n\t};\n\n\tconst removeCoupon = (couponCode) => {\n\t\tconsole.log(`Removing coupon: ${couponCode}`);\n\t\treturn apiFetch({\n\t\t\tpath: \"/wc/store/v1/cart/remove-coupon\",\n\t\t\tmethod: \"POST\",\n\t\t\tdata: { code: couponCode },\n\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tconsole.log(`Coupon ${couponCode} removed.`);\n\t\t\t\tsetAppliedCoupon(\"\"); // Clear the applied coupon\n\t\t\t\treturn response; // Return response for chaining\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error(`Error removing coupon ${couponCode}:`, error);\n\t\t\t\tthrow error; // Re-throw for catch chaining\n\t\t\t});\n\t};\n\n\treturn {\n\t\tfetchCart,\n\t\taddToCart,\n\t\tremFromCart,\n\t\tapplyCoupon,\n\t\tremoveCoupon,\n\t\tappliedCoupon,\n\t\ttotalPrice,\n\t\ttotalSalePrice,\n\t\tsalePercentage,\n\t\ttotalQuantity,\n\t\tisLoading,\n\t\terror,\n\t};\n}\n\n/**\n * NextStep\n */\n\nconst NextStep = ({ beforeNextStep, stepsPercanteges, currentStep }) => {\n\tconst nextPercentage = stepsPercanteges[currentStep];\n\n\treturn (\n\t\t<div className=\"flex items-center justify-center px-3 py-2 mb-1 text-sm font-medium bg-white border-2 border-blue-500 rounded-lg\">\n\t\t\tAdd <span className=\"mx-1\">{beforeNextStep}</span> more for extra{\" \"}\n\t\t\t<span className=\"px-2 py-1 mx-1 text-white bg-red-500 rounded-lg\">\n\t\t\t\t-{nextPercentage}% OFF\n\t\t\t</span>\n\t\t</div>\n\t);\n};\n\n/**\n * TotalCart\n */\n\nconst TotalCart = ({ data }) => {\n\tconst triggerTotalCartUpdate = useStore(\n\t\t(state) => state.triggerTotalCartUpdate,\n\t);\n\tconst totalCartUpdate = useStore((state) => {\n\t\tconsole.log('Reading totalCartUpdate', state.totalCartUpdate);\n\t\treturn state.totalCartUpdate;\n\t  });\n\n\tconst {\n\t\tfetchCart,\n\t\tapplyCoupon,\n\t\tremoveCoupon,\n\t\tappliedCoupon,\n\t\ttotalQuantity,\n\t\ttotalPrice,\n\t\ttotalSalePrice,\n\t\tsalePercentage,\n\t\tisLoading,\n\t\terror,\n\t} = useCart();\n\n\tconst [steps, setSteps] = useState(data); // Example steps\n\tconst [currentStep, setCurrentStep] = useState(0);\n\tconst stepsPercanteges = [\"5\", \"10\", \"15\", \"20\"];\n\n\tconst [distanceToNextStep, setDistanceToNextStep] = useState(0);\n\n\tuseEffect(() => {\n\t\t// console.log(\"totalCartUpdate\", totalCartUpdate);\n\t}, []);\n\n\tuseEffect(() => {\n\t\t// Calculate the distance to the next step\n\t\tconst calculateDistanceToNextStep = () => {\n\t\t\tif (currentStep < steps.length) {\n\t\t\t\t// If not at the last step, calculate the difference between the next step and totalQuantity\n\t\t\t\tconst nextStepValue = steps[currentStep];\n\t\t\t\tsetDistanceToNextStep(nextStepValue - totalQuantity);\n\t\t\t} else {\n\t\t\t\t// If at the last step, there's no \"next step\" so set distance to 0\n\t\t\t\tsetDistanceToNextStep(0);\n\t\t\t}\n\t\t};\n\t\tcalculateDistanceToNextStep();\n\t}, [currentStep, totalQuantity, steps]);\n\n\tuseEffect(() => {\n\t\tfetchCart();\n\t\tdetermineCurrentStep();\n\t}, [totalQuantity]);\n\n\tuseEffect(() => {\n\t\tfetchCart();\n\t}, [totalCartUpdate]);\n\n\tconst determineCurrentStep = () => {\n\t\tlet foundStep = 0;\n\t\t// Iterate over steps to find the highest step not exceeding totalItems\n\t\tfor (let step of steps) {\n\t\t\tif (totalQuantity >= step) {\n\t\t\t\tfoundStep = step;\n\t\t\t} else {\n\t\t\t\tbreak; // Break early as steps are sorted\n\t\t\t}\n\t\t}\n\n\t\t// Determine the step index if a step was found; otherwise, handle stepIndex as null\n\t\tconst stepIndex = foundStep !== 0 ? steps.indexOf(foundStep) + 1 : 0;\n\n\t\t// Check if we are moving down to step 0 and need to remove any existing coupon\n\t\tif (stepIndex === 0 && appliedCoupon) {\n\t\t\tconsole.log(\n\t\t\t\t`Removing coupon, as moving to step 0 from step: ${currentStep}`,\n\t\t\t);\n\t\t\tremoveCoupon(appliedCoupon);\n\t\t\tsetCurrentStep(0);\n\t\t\t// setBeforeNextStep(0);\n\t\t\tfetchCart();\n\t\t\treturn;\n\t\t}\n\n\t\tconst newCouponCode = stepIndex ? `coupon-step-${stepIndex}` : 0;\n\n\t\tif (stepIndex !== currentStep) {\n\t\t\tsetCurrentStep(stepIndex);\n\t\t\t// setBeforeNextStep(1);\n\t\t\tconsole.log(\n\t\t\t\t`Current step: ${stepIndex} for total items: ${totalQuantity}`,\n\t\t\t);\n\n\t\t\t// Chain removal and application of coupons only if there's a valid step\n\t\t\tif (newCouponCode && appliedCoupon !== newCouponCode) {\n\t\t\t\tconst couponOperation = appliedCoupon\n\t\t\t\t\t? removeCoupon(appliedCoupon).then(() => applyCoupon(newCouponCode))\n\t\t\t\t\t: applyCoupon(newCouponCode);\n\n\t\t\t\tcouponOperation\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tconsole.log(\"Coupon operation completed.\");\n\t\t\t\t\t\tfetchCart();\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tconsole.error(\"Coupon operation failed:\", error);\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tif (isLoading) return <div>Loading cart items...</div>;\n\tif (error) return <div>Error: {error}</div>;\n\n\treturn (\n\t\t<>\n\t\t\t<div>{totalCartUpdate}</div>\n\t\t\t<button onClick={triggerTotalCartUpdate}>button</button>\n\t\t\t<NextStep\n\t\t\t\tbeforeNextStep={distanceToNextStep}\n\t\t\t\tstepsPercanteges={stepsPercanteges}\n\t\t\t\tcurrentStep={currentStep}\n\t\t\t></NextStep>\n\t\t\t<div className=\"flex justify-around w-full px-3 py-4 font-medium text-white bg-blue-500 rounded-lg\">\n\t\t\t\t<div>\n\t\t\t\t\t<span className=\"mr-1\">{totalSalePrice}€</span>\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName={`strikethrough-diagonal font-light text-sm text-gray-100 ${\n\t\t\t\t\t\t\tcurrentStep != 0 ? \"opacity-100\" : \"opacity-0\"\n\t\t\t\t\t\t}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{totalPrice}€\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName={`bg-white text-gray-700 rounded-lg px-2 ${\n\t\t\t\t\t\tcurrentStep != 0 ? \"opacity-100\" : \"opacity-0\"\n\t\t\t\t\t}`}\n\t\t\t\t>\n\t\t\t\t\t-{stepsPercanteges[currentStep - 1]}% OFF\n\t\t\t\t</div>\n\t\t\t\t<div className=\"flex items-center gap-x-2\">\n\t\t\t\t\t<div className=\"bg-white text-gray-700 rounded-lg px-1.5 text-sm\">\n\t\t\t\t\t\t{totalQuantity}\n\t\t\t\t\t</div>\n\t\t\t\t\t<a href=\"/?page_id=9\" className=\"text-sm text-white no-underline\">\n\t\t\t\t\t\tView Order\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nconst container = document.querySelector(\"#root-total-cart\");\n// ReactDOM.createRoot(tempContainer).render(<TotalCart />);\n\nconst jsonDataElement = document.querySelector(\".discount-steps-data\");\nconst jsonData = JSON.parse(jsonDataElement.textContent || \"[]\");\n\nReactDOM.createRoot(container).render(<TotalCart data={jsonData} />);\n"],"names":["console","log","createRoot","render","createContext","useContext","useState","useEffect","useCallback","apiFetch","useStore","useCart","productId","triggerTotalCartUpdate","state","isLoading","setIsLoading","error","setError","cartProducts","setCartProducts","totalQuantity","setTotalQuantity","totalPrice","setTotalPrice","totalSalePrice","setTotalSalePrice","salePercentage","setSalePercentage","appliedCoupon","setAppliedCoupon","fetchCart","path","then","cart","items","reduce","acc","item","quantity","parseFloat","totals","total_items","total_price","catch","err","addToCart","itemData","id","method","data","finally","remFromCart","find","key","applyCoupon","couponCode","code","response","removeCoupon","NextStep","beforeNextStep","stepsPercanteges","currentStep","nextPercentage","createElement","className","TotalCart","totalCartUpdate","steps","setSteps","setCurrentStep","distanceToNextStep","setDistanceToNextStep","calculateDistanceToNextStep","length","nextStepValue","determineCurrentStep","foundStep","step","stepIndex","indexOf","newCouponCode","couponOperation","Fragment","onClick","href","container","document","querySelector","jsonDataElement","jsonData","JSON","parse","textContent","ReactDOM"],"sourceRoot":""}