{"version":3,"file":"product-display/view.js","mappings":"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","sources":["webpack://rd-shop-product/external window \"React\"","webpack://rd-shop-product/external window [\"wp\",\"apiFetch\"]","webpack://rd-shop-product/external window [\"wp\",\"element\"]","webpack://rd-shop-product/webpack/bootstrap","webpack://rd-shop-product/webpack/runtime/compat get default export","webpack://rd-shop-product/webpack/runtime/define property getters","webpack://rd-shop-product/webpack/runtime/hasOwnProperty shorthand","webpack://rd-shop-product/webpack/runtime/make namespace object","webpack://rd-shop-product/./src/product-display/view.js"],"sourcesContent":["module.exports = window[\"React\"];","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"element\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Use this file for JavaScript code that you want to run in the front-end\n * on posts/pages that contain this block.\n *\n * When this file is defined as the value of the `viewScript` property\n * in `block.json` it will be enqueued on the front end of the site.\n *\n * Example:\n *\n * ```js\n * {\n *   \"viewScript\": \"file:./view.js\"\n * }\n * ```\n *\n * If you're not making any changes to this file because your project doesn't need any\n * JavaScript running in the front-end, then you should delete this file and remove\n * the `viewScript` property from `block.json`.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-metadata/#view-script\n */\n\nconsole.log(\"view.js\");\n\nimport {\n\tcreateRoot,\n\trender,\n\tcreateContext,\n\tuseContext,\n\tuseState,\n\tuseEffect,\n\tuseCallback,\n} from \"@wordpress/element\";\nimport apiFetch from \"@wordpress/api-fetch\";\n// import useStore from \"your-store-path\"; // Adjust the import path as needed\n// import test from \"./../test.js\"; // Adjust the import path as needed\n\n/**\n * useCart\n */\n\nfunction useCart(productId) {\n\tconst triggerTotalCartUpdate = useStore(\n\t\t(state) => state.triggerTotalCartUpdate,\n\t);\n\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [error, setError] = useState(null);\n\n\tconst [cartProducts, setCartProducts] = useState([]);\n\tconst [totalQuantity, setTotalQuantity] = useState(0);\n\tconst [totalPrice, setTotalPrice] = useState(0);\n\tconst [totalSalePrice, setTotalSalePrice] = useState(0);\n\tconst [salePercentage, setSalePercentage] = useState(0);\n\tconst [appliedCoupon, setAppliedCoupon] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tfetchCart();\n\t}, []);\n\n\tconst fetchCart = () => {\n\t\tapiFetch({ path: \"/wc/store/cart\" }) // Adjusted to an endpoint that returns full cart details\n\t\t\t.then((cart) => {\n\t\t\t\tconst cartProducts = cart.items;\n\t\t\t\tsetCartProducts(cartProducts);\n\t\t\t\t// Assuming the response includes totalItems and total price directly\n\t\t\t\tconst totalQuantity = cart.items.reduce(\n\t\t\t\t\t(acc, item) => acc + item.quantity,\n\t\t\t\t\t0,\n\t\t\t\t);\n\t\t\t\tsetTotalQuantity(totalQuantity);\n\t\t\t\t// console.log('fetchCart totalQuantity', totalQuantity);\n\n\t\t\t\t// Directly use the total price from the cart object\n\t\t\t\tconst totalPrice = parseFloat(cart.totals.total_items) / 100;\n\t\t\t\tsetTotalPrice(totalPrice);\n\t\t\t\tconst totalSalePrice = parseFloat(cart.totals.total_price) / 100;\n\t\t\t\tsetTotalSalePrice(totalSalePrice);\n\t\t\t\t// if (totalPrice != 0) {\n\t\t\t\t// \tconst salePercentage = Math.round(\n\t\t\t\t// \t\t((totalPrice - totalSalePrice) / totalPrice) * 100,\n\t\t\t\t// \t);\n\t\t\t\t// \tsetSalePercentage(salePercentage);\n\t\t\t\t// }\n\t\t\t\t// console.log(\"fetchCart:\", totalPrice);\n\t\t\t\tsetIsLoading(false);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.error(\"Error fetching cart:\", err);\n\t\t\t\tsetError(\"Failed to fetch cart.\");\n\t\t\t\tsetIsLoading(false);\n\t\t\t});\n\t};\n\n\tconst addToCart = (productId) => {\n\t\tsetIsLoading(true);\n\n\t\tconst itemData = {\n\t\t\tid: productId,\n\t\t\tquantity: 1,\n\t\t};\n\n\t\tapiFetch({\n\t\t\tpath: \"/wc/store/cart/add-item\",\n\t\t\tmethod: \"POST\",\n\t\t\tdata: itemData,\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tconsole.log(`Add to cart: ${productId}`);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error(\"Error incrementing item:\", error);\n\t\t\t\tsetError(\"Failed to increment item.\");\n\t\t\t\tsetIsLoading(false);\n\t\t\t})\n\t\t\t.finally(() => {\n\t\t\t\tfetchCart(); // Refresh the cart items to reflect the change\n\t\t\t\ttriggerTotalCartUpdate();\n\t\t\t});\n\t};\n\n\tconst remFromCart = (productId) => {\n\t\tsetIsLoading(true);\n\n\t\t// Find the current item in the cart\n\t\tconst item = cartProducts.find((item) => item.id === productId);\n\t\tif (!item) {\n\t\t\t// If item not found, exit early\n\t\t\tconsole.error(\"Item not found in cart:\", productId);\n\t\t\t// setIsLoading(false);\n\t\t\treturn;\n\t\t}\n\n\t\tif (item.quantity === 1) {\n\t\t\t// If the item's quantity is 1, remove it from the cart\n\t\t\tconst itemData = {\n\t\t\t\tkey: item.key,\n\t\t\t};\n\n\t\t\tapiFetch({\n\t\t\t\tpath: \"/wc/store/cart/remove-item\",\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tdata: itemData,\n\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tconsole.log(`Remove from cart: ${productId}`);\n\t\t\t\t\tfetchCart(); // Refresh the cart items to reflect the change\n\t\t\t\t\ttriggerTotalCartUpdate();\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.error(\"Error removing item:\", error);\n\t\t\t\t\tsetError(\"Failed to remove item.\");\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t});\n\t\t} else {\n\t\t\t// If the item's quantity is greater than 1, decrement its quantity\n\t\t\tconst itemData = {\n\t\t\t\tkey: item.key,\n\t\t\t\tquantity: item.quantity - 1,\n\t\t\t};\n\n\t\t\tapiFetch({\n\t\t\t\tpath: \"/wc/store/cart/update-item\",\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tdata: itemData,\n\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tconsole.log(`Decrease cart quantity: ${productId}`);\n\t\t\t\t\tfetchCart(); // Refresh the cart items to reflect the change\n\t\t\t\t\ttriggerTotalCartUpdate();\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.error(\"Error decrementing item:\", error);\n\t\t\t\t\tsetError(\"Failed to decrement item.\");\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t});\n\t\t}\n\t};\n\n\tconst applyCoupon = (couponCode) => {\n\t\tconsole.log(`Applying coupon: ${couponCode}`);\n\t\treturn apiFetch({\n\t\t\tpath: \"/wc/store/v1/cart/apply-coupon\",\n\t\t\tmethod: \"POST\",\n\t\t\tdata: { code: couponCode },\n\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tconsole.log(`Coupon ${couponCode} applied.`);\n\t\t\t\tsetAppliedCoupon(couponCode); // Update the applied coupon\n\t\t\t\treturn response; // Return response for chaining\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error(`Error applying coupon ${couponCode}:`, error);\n\t\t\t\tthrow error; // Re-throw for catch chaining\n\t\t\t});\n\t};\n\n\tconst removeCoupon = (couponCode) => {\n\t\tconsole.log(`Removing coupon: ${couponCode}`);\n\t\treturn apiFetch({\n\t\t\tpath: \"/wc/store/v1/cart/remove-coupon\",\n\t\t\tmethod: \"POST\",\n\t\t\tdata: { code: couponCode },\n\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tconsole.log(`Coupon ${couponCode} removed.`);\n\t\t\t\tsetAppliedCoupon(\"\"); // Clear the applied coupon\n\t\t\t\treturn response; // Return response for chaining\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error(`Error removing coupon ${couponCode}:`, error);\n\t\t\t\tthrow error; // Re-throw for catch chaining\n\t\t\t});\n\t};\n\n\treturn {\n\t\tfetchCart,\n\t\taddToCart,\n\t\tremFromCart,\n\t\tapplyCoupon,\n\t\tremoveCoupon,\n\t\tappliedCoupon,\n\t\ttotalPrice,\n\t\ttotalSalePrice,\n\t\tsalePercentage,\n\t\ttotalQuantity,\n\t\tisLoading,\n\t\terror,\n\t};\n}\n\n/**\n * ProductDisplay\n */\n\nfunction ProductGallery({ selectedProductId, productsData }) {\n\tconst selectedProductData = productsData.find(\n\t\t(product) => product.id === selectedProductId,\n\t);\n\n\t// Initialize selectedImage with the first image of the selected product or a default value\n\tconst [selectedImage, setSelectedImage] = useState(\n\t\tselectedProductData?.imageUrls[0] || \"\",\n\t);\n\n\tuseEffect(() => {\n\t\t// Update selectedImage when selectedProductId changes\n\t\tsetSelectedImage(selectedProductData?.imageUrls[0] || \"\");\n\t}, [selectedProductId, selectedProductData]);\n\n\tif (!selectedProductData) return <div>No product selected</div>; // Or any other fallback UI\n\n\treturn (\n\t\t<div className=\"image-viewer-wrapper\">\n\t\t\t{/* <div className=\"thumbnails-wrapper\">\n\t\t\t\t{selectedProductData.imageUrls.map((url, index) => (\n\t\t\t\t\t<img\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\tsrc={url}\n\t\t\t\t\t\talt={`Thumbnail ${index}`}\n\t\t\t\t\t\tclassName={selectedImage === url ? \"selected-thumbnail\" : \"\"}\n\t\t\t\t\t\tonClick={() => setSelectedImage(url)} // Click to change the image\n\t\t\t\t\t\tonMouseEnter={() => setSelectedImage(url)} // Hover to change the image\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</div> */}\n\t\t\t<div className=\"full-size-wrapper\">\n\t\t\t\t<img src={selectedImage} alt=\"Selected\" />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nfunction InfoBox({ selectedProductId }) {\n\treturn <div>Selected Product ID: {selectedProductId}</div>;\n}\n\nfunction TogglerBox({ products, onProductSelect, selectedProductId }) {\n\treturn (\n\t\t<div>\n\t\t\t{products.map((product) => (\n\t\t\t\t<button\n\t\t\t\t\tkey={product.id}\n\t\t\t\t\tonClick={() => onProductSelect(product.id)}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tpadding: \"0.5em 1em\",\n\t\t\t\t\t\tmargin: \"1em 0\",\n\t\t\t\t\t\tfontWeight: product.id === selectedProductId ? \"bold\" : \"normal\",\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{product.counterValue}\n\t\t\t\t</button>\n\t\t\t))}\n\t\t</div>\n\t);\n}\n\nfunction AdjusterBox({ productId, initialValue, togglerValueChange }) {\n\tconst [value, setValue] = useState(initialValue);\n\tconst { fetchCart, addToCart, remFromCart, isLoading, error } = useCart();\n\n\tuseEffect(() => {\n\t\tsetValue(initialValue);\n\t}, [initialValue]);\n\n\tuseEffect(() => {\n\t\t// apiFetchCartItems();\n\t}, []);\n\n\tconst handleIncrement = () => {\n\t\tconst newValue = value + 1;\n\t\tsetValue(newValue);\n\t\ttogglerValueChange(newValue);\n\t\taddToCart(productId);\n\t};\n\n\tconst handleDecrement = () => {\n\t\tif (value > 0) {\n\t\t\tconst newValue = value - 1;\n\t\t\tsetValue(newValue);\n\t\t\ttogglerValueChange(newValue);\n\t\t\tremFromCart(productId);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<button\n\t\t\t\tstyle={{ padding: \"0.5em 1em\" }}\n\t\t\t\tonClick={handleDecrement}\n\t\t\t\tdisabled={isLoading}\n\t\t\t>\n\t\t\t\t{isLoading ? \"-\" : \"-\"}\n\t\t\t</button>\n\t\t\t<span> {value} </span>\n\t\t\t<button\n\t\t\t\tstyle={{ padding: \"0.5em 1em\" }}\n\t\t\t\tonClick={handleIncrement}\n\t\t\t\tdisabled={isLoading}\n\t\t\t>\n\t\t\t\t{isLoading ? \"+\" : \"+\"}\n\t\t\t</button>\n\t\t</div>\n\t);\n}\n\nfunction ProductDisplay({ data }) {\n\tconst [products, setProducts] = useState([]);\n\tconst [selectedProductId, setSelectedProductId] = useState(null);\n\tconst [counterValue, setCounterValue] = useState(0);\n\n\tuseEffect(() => {\n\t\tconst selectedProduct = products.find(\n\t\t\t(product) => product.id === selectedProductId,\n\t\t);\n\t\tsetCounterValue(selectedProduct ? selectedProduct.counterValue : 0);\n\t}, [products, selectedProductId]);\n\n\tuseEffect(() => {\n\t\tsetProducts(data); // Directly use the data prop which is now an array\n\t\tif (data.length > 0) {\n\t\t\t// Set the first product's ID as selected by default\n\t\t\tsetSelectedProductId(data[0].id);\n\t\t}\n\t}, [data]);\n\n\tconst togglerValueChange = (newValue) => {\n\t\t// Update the counterValue for the selected product\n\t\tconst updatedProducts = products.map((product) =>\n\t\t\tproduct.id === selectedProductId\n\t\t\t\t? { ...product, counterValue: newValue }\n\t\t\t\t: product,\n\t\t);\n\t\t// console.log(updatedProducts);\n\t\tsetProducts(updatedProducts);\n\t};\n\n\tconst handleProductSelect = (id) => {\n\t\tsetSelectedProductId(id);\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"product-wrapper\"\n\t\t\tstyle={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}\n\t\t>\n\t\t\t<ProductGallery\n\t\t\t\tselectedProductId={selectedProductId}\n\t\t\t\tproductsData={products}\n\t\t\t></ProductGallery>\n\t\t\t<InfoBox selectedProductId={selectedProductId} />\n\t\t\t<TogglerBox\n\t\t\t\tproducts={products}\n\t\t\t\tonProductSelect={handleProductSelect}\n\t\t\t\tselectedProductId={selectedProductId}\n\t\t\t/>\n\t\t\t<AdjusterBox\n\t\t\t\tproductId={selectedProductId}\n\t\t\t\tinitialValue={counterValue}\n\t\t\t\ttogglerValueChange={togglerValueChange}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\ndocument.querySelectorAll(\".react-container\").forEach((container) => {\n\tconst jsonDataElement = container.querySelector(\".product-data\");\n\tif (jsonDataElement) {\n\t\tconst jsonData = JSON.parse(jsonDataElement.textContent || \"[]\");\n\t\t// console.log(\"Mount data\", jsonData);\n\t\tReactDOM.createRoot(container).render(<ProductDisplay data={jsonData} />);\n\t}\n});\n"],"names":["console","log","createRoot","render","createContext","useContext","useState","useEffect","useCallback","apiFetch","useCart","productId","triggerTotalCartUpdate","useStore","state","isLoading","setIsLoading","error","setError","cartProducts","setCartProducts","totalQuantity","setTotalQuantity","totalPrice","setTotalPrice","totalSalePrice","setTotalSalePrice","salePercentage","setSalePercentage","appliedCoupon","setAppliedCoupon","fetchCart","path","then","cart","items","reduce","acc","item","quantity","parseFloat","totals","total_items","total_price","catch","err","addToCart","itemData","id","method","data","finally","remFromCart","find","key","applyCoupon","couponCode","code","response","removeCoupon","ProductGallery","selectedProductId","productsData","selectedProductData","product","selectedImage","setSelectedImage","imageUrls","createElement","className","src","alt","InfoBox","TogglerBox","products","onProductSelect","map","onClick","style","padding","margin","fontWeight","counterValue","AdjusterBox","initialValue","togglerValueChange","value","setValue","handleIncrement","newValue","handleDecrement","disabled","ProductDisplay","setProducts","setSelectedProductId","setCounterValue","selectedProduct","length","updatedProducts","handleProductSelect","display","flexDirection","alignItems","document","querySelectorAll","forEach","container","jsonDataElement","querySelector","jsonData","JSON","parse","textContent","ReactDOM"],"sourceRoot":""}