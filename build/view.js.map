{"version":3,"file":"view.js","mappings":"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","sources":["webpack://rd-shop-product/./src/view.js"],"sourcesContent":["/**\n * Use this file for JavaScript code that you want to run in the front-end\n * on posts/pages that contain this block.\n *\n * When this file is defined as the value of the `viewScript` property\n * in `block.json` it will be enqueued on the front end of the site.\n *\n * Example:\n *\n * ```js\n * {\n *   \"viewScript\": \"file:./view.js\"\n * }\n * ```\n *\n * If you're not making any changes to this file because your project doesn't need any\n * JavaScript running in the front-end, then you should delete this file and remove\n * the `viewScript` property from `block.json`.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-metadata/#view-script\n */\n\n/* eslint-disable no-console */\nconsole.log('Hello World! (from create-block-rd-shop-product block)');\n/* eslint-enable no-console */\nclass EventDispatcher {\n    constructor() {\n        this.listeners = {};\n    }\n\n    subscribe(eventName, callback) {\n        if (!this.listeners[eventName]) {\n            this.listeners[eventName] = [];\n        }\n        this.listeners[eventName].push(callback);\n    }\n\n    emit(eventName, data) {\n        const eventListeners = this.listeners[eventName];\n        if (eventListeners) {\n            eventListeners.forEach(callback => callback(data));\n        }\n    }\n}\nconst eventDispatcher = new EventDispatcher();\n\nclass CounterBox {\n    constructor(displayElement, initialValue = 0, min = 0, max = 20, color, productId) {\n        this.counterValue = initialValue;\n        this.min = min;\n        this.max = max;\n        this.color = color;\n        this.displayElement = displayElement;\n        this.isActive = false;\n        this.productId = productId;\n        this.updateDisplay();\n    }\n\n    setActive(state) {\n        this.isActive = state;\n    }\n\n    increment() {\n        if (this.isActive && this.counterValue < this.max) {\n            this.counterValue++;\n            this.updateDisplay();\n            eventDispatcher.emit('counterUpdated', 1);\n            eventDispatcher.emit('addToCart', this.productId);\n        }\n    }\n\n    decrement() {\n        if (this.isActive && this.counterValue > this.min) {\n            this.counterValue--;\n            this.updateDisplay();\n            eventDispatcher.emit('counterUpdated', -1);\n            eventDispatcher.emit('removeFromCart', this.productId);\n        }\n    }\n\n    updateDisplay() {\n        // this.displayElement.textContent = `${this.counterValue}`;\n        this.displayElement.textContent = this.counterValue > 0 ? this.counterValue : '';\n    }\n}\n\nclass GlobalCounterBox {\n    static initialize(wrapperId) {\n        GlobalCounterBox.globalCount = 0;\n\n        // Find the wrapper element by its ID\n        const wrapper = document.getElementById(wrapperId);\n        if (!wrapper) {\n            console.error(`Wrapper with ID ${wrapperId} not found`);\n            return;\n        }\n\n        // Create and append the display element for the global counter within the wrapper\n        const globalCounterDisplay = document.createElement('div');\n        globalCounterDisplay.id = 'globalCounter'; // Adding an ID for styling or querying\n        wrapper.appendChild(globalCounterDisplay);\n        GlobalCounterBox.displayElement = globalCounterDisplay;\n        GlobalCounterBox.updateDisplay();\n\n        // Subscribe to counter updates\n        eventDispatcher.subscribe('counterUpdated', (change) => {\n            GlobalCounterBox.globalCount += change;\n            GlobalCounterBox.ensureGlobalCountWithinRange();\n            GlobalCounterBox.updateDisplay();\n        });\n    }\n\n    static ensureGlobalCountWithinRange() {\n        if (GlobalCounterBox.globalCount < 0) {\n            GlobalCounterBox.globalCount = 0;\n        }\n        // Uncomment if there's an upper limit for the global count\n        // if (GlobalCounterBox.globalCount > maxGlobalCount) {\n        //     GlobalCounterBox.globalCount = maxGlobalCount;\n        // }\n    }\n\n    static updateDisplay() {\n        if (GlobalCounterBox.displayElement) {\n            GlobalCounterBox.displayElement.textContent = `Global: ${GlobalCounterBox.globalCount}`;\n        }\n    }\n}\n\nclass Controller {\n    constructor(wrapperId) {\n        this.wrapperId = wrapperId;\n        this.wrapper = document.getElementById(wrapperId);\n        this.activeCounter = null;\n        this.counters = [];\n        this.initializeButtons();\n    }\n\n    registerCounter(counter) {\n        this.counters.push(counter);\n        // If this is the first counter, set it as active\n        if (this.counters.length === 1) {\n            this.setActiveCounter(counter);\n        }\n    }\n\n    setActiveCounter(activeCounter) {\n        if (this.activeCounter) {\n            this.activeCounter.setActive(false);\n        }\n        this.activeCounter = activeCounter;\n        this.activeCounter.setActive(true);\n    }\n\n    incrementActiveCounter() {\n        if (this.activeCounter && this.activeCounter.counterBox.isActive && this.activeCounter.counterBox.counterValue < this.activeCounter.counterBox.max) {\n            this.activeCounter.counterBox.increment();\n            // WooCommerce integration\n            addProductToCart(this.activeCounter.counterBox.productId, 1);\n        }\n    }\n\n    decrementActiveCounter() {\n        if (this.activeCounter && this.activeCounter.counterBox.isActive && this.activeCounter.counterBox.counterValue > this.activeCounter.counterBox.min) {\n            this.activeCounter.counterBox.decrement();\n            // WooCommerce integration\n            removeProductFromCart(this.activeCounter.counterBox.productId, 1);\n        }\n    }\n\n    initializeButtons() {\n        const buttonsContainer = document.createElement('div');\n        buttonsContainer.className = 'controller-wrapper';\n\n        const decrementButton = document.createElement('button');\n        decrementButton.className = 'controller-button'\n        decrementButton.textContent = '-';\n        decrementButton.addEventListener('click', () => this.decrementActiveCounter());\n        buttonsContainer.appendChild(decrementButton); // Add the decrement button to the container\n\n        const incrementButton = document.createElement('button');\n        incrementButton.className = 'controller-button'\n        incrementButton.textContent = '+';\n        incrementButton.addEventListener('click', () => this.incrementActiveCounter());\n        buttonsContainer.appendChild(incrementButton); // Add the increment button to the container\n\n        this.wrapper.appendChild(buttonsContainer); // Append the container to the wrapper\n    }\n}\n\nclass CounterInstance {\n    constructor(controller, wrapperId, instanceId, counterValue = 0, counterRange = { min: 0, max: 20 }, color, productId) {\n        this.controller = controller;\n        this.wrapperId = wrapperId;\n        this.instanceId = instanceId;\n        this.productId = productId;\n        const parent = document.getElementById(wrapperId);\n        if (!parent) {\n            console.error('Parent not found');\n            return;\n        }\n\n        // Create or select the counters-wrapper\n        let countersWrapper = parent.querySelector('.counters-wrapper');\n        if (!countersWrapper) {\n            countersWrapper = document.createElement('div');\n            countersWrapper.className = 'counters-wrapper';\n            parent.appendChild(countersWrapper);\n        }\n\n        const radioContainer = document.createElement('div');\n        radioContainer.className = 'radio-container';\n        countersWrapper.appendChild(radioContainer);  // Append to countersWrapper instead of parent\n\n        const radioButton = document.createElement('input');\n        radioButton.type = 'radio';\n        radioButton.id = `${wrapperId}-radio-${instanceId}`;\n        radioButton.name = `number-${wrapperId}`;\n        radioButton.className = 'radio-button';\n        radioButton.checked = instanceId === 0;\n        radioContainer.appendChild(radioButton);\n\n        const label = document.createElement('label');\n        label.setAttribute('for', `${wrapperId}-radio-${instanceId}`);\n        label.className = 'radio-label';\n        label.style.backgroundColor = color;\n        radioContainer.appendChild(label);\n\n        const buttonContainer = document.createElement('div');\n        buttonContainer.className = 'button-container';\n        radioContainer.appendChild(buttonContainer);\n\n        const displayElement = label;\n\n        this.counterBox = new CounterBox(displayElement, counterValue, counterRange.min, counterRange.max, color, productId);\n\n        // Event listener that might trigger setActive\n        radioButton.addEventListener('change', () => {\n            if (radioButton.checked) {\n                this.controller.setActiveCounter(this);\n            }\n        });\n    }\n\n    setActive(isActive) {\n        this.counterBox.setActive(isActive);\n        if (isActive) {\n            // Additional logic when this counter becomes active\n        }\n    }\n}\n\n// WooCommerce\n\nfunction addProductToCart(productId, quantity) {\n    console.log(`Adding product ${productId} to the cart`);\n    jQuery.ajax({\n        url: ajaxurl,\n        method: 'POST',\n        data: {\n            'action': 'add_to_cart_request',\n            product_id: productId,\n            quantity: quantity\n        },\n        success: function (data) {\n            console.log(data);\n        },\n        error: function (errorThrown) {\n            window.alert(errorThrown);\n        }\n    });\n}\n\nfunction removeProductFromCart(productId, quantity) {\n    console.log(`Removing product ${productId} from the cart`);\n    jQuery.ajax({\n        url: ajaxurl,\n        method: 'POST',\n        data: {\n            'action': 'remove_from_cart_request',\n            product_id: productId,\n            quantity: quantity\n        },\n        success: function (data) {\n            console.log(data);\n        },\n        error: function (errorThrown) {\n            window.alert(errorThrown);\n        }\n    });\n}\n\n// Initialise \n\nGlobalCounterBox.initialize('globalCounterWrapper');\n\nfunction initializeCounterInstances(controller, groupId, instances) {\n    instances.forEach(instance => {\n        const counterInstance = new CounterInstance(controller, groupId, instance.id, instance.initialValue, instance.range, instance.color, instance.productId);\n        controller.registerCounter(counterInstance);\n\n        // Automatically set the first counter box of each group as active\n        if (instance.id === 0) {\n            controller.setActiveCounter(counterInstance);\n        }\n    });\n}\n\n// Define counter configurations for each group\nconst groupAInstances = [\n    { id: 0, initialValue: 0, range: { min: 0, max: 10 }, color: '#2252b8', productId: '36' },\n    { id: 1, initialValue: 0, range: { min: 0, max: 10 }, color: '#af3e8d', productId: '38' },\n    { id: 2, initialValue: 0, range: { min: 0, max: 10 }, color: '#75a937', productId: '34' },\n    { id: 3, initialValue: 0, range: { min: 0, max: 10 }, color: '#e29a35', productId: '27' },\n];\n\nconst groupBInstances = [\n    { id: 0, initialValue: 0, range: { min: 0, max: 10 }, color: '#af3e8d', productId: '23' },\n    { id: 1, initialValue: 0, range: { min: 0, max: 10 }, color: '#e29a35', productId: '20' },\n    { id: 2, initialValue: 0, range: { min: 0, max: 10 }, color: '#2252b8', productId: '21' },\n];\n\n// Initialize counter instances for group A\nconst controllerA = new Controller('group_a');\ninitializeCounterInstances(controllerA, 'group_a', groupAInstances);\n\n// Initialize counter instances for group B\nconst controllerB = new Controller('group_b');\ninitializeCounterInstances(controllerB, 'group_b', groupBInstances);\n\n// Rest API\n\n// document.addEventListener('DOMContentLoaded', function() {\n//     // Replace '32' with the actual product ID you're interested in\n//     const productId = '36';\n//     const apiUrl = `/wp-json/mycustom/v1/cart-item-quantity/${productId}`;\n\n//     fetch(apiUrl)\n//         .then(response => {\n//             if (!response.ok) {\n//                 throw new Error('Network response was not ok');\n//             }\n//             return response.json();\n//         })\n//         .then(data => {\n//             console.log(`Quantity of product ID ${productId} in cart:`, data.quantity);\n//         })\n//         .catch(error => console.error('Error fetching cart item quantity:', error));\n// });\n\n\n// jQuery.ajax({\n//     url: ajaxurl,\n//     method: 'POST',\n//     data: {\n//         'action': 'cart_get_total_request',\n//     },\n//     success: function(response) {\n//         if (response.success) {\n//             console.log('Total quantity in cart:', response.data.total_quantity);\n//             // You can now update the DOM with this data.\n//         } else {\n//             console.error('Error:', response.data.message);\n//         }\n//     },\n//     error: function(error) {\n//         console.error('AJAX error:', error);\n//     }\n// });\n\n// Inside view.js\n// import { greet } from './test.js';\n\n// console.log('greet('World')'); // Output: Hello, World!\n"],"names":["console","log","EventDispatcher","constructor","listeners","subscribe","eventName","callback","push","emit","data","eventListeners","forEach","eventDispatcher","CounterBox","displayElement","initialValue","min","max","color","productId","counterValue","isActive","updateDisplay","setActive","state","increment","decrement","textContent","GlobalCounterBox","initialize","wrapperId","globalCount","wrapper","document","getElementById","error","globalCounterDisplay","createElement","id","appendChild","change","ensureGlobalCountWithinRange","Controller","activeCounter","counters","initializeButtons","registerCounter","counter","length","setActiveCounter","incrementActiveCounter","counterBox","addProductToCart","decrementActiveCounter","removeProductFromCart","buttonsContainer","className","decrementButton","addEventListener","incrementButton","CounterInstance","controller","instanceId","counterRange","parent","countersWrapper","querySelector","radioContainer","radioButton","type","name","checked","label","setAttribute","style","backgroundColor","buttonContainer","quantity","jQuery","ajax","url","ajaxurl","method","product_id","success","errorThrown","window","alert","initializeCounterInstances","groupId","instances","instance","counterInstance","range","groupAInstances","groupBInstances","controllerA","controllerB"],"sourceRoot":""}