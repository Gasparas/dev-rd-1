(()=>{"use strict";const e=window.React,t=window.wp.element;console.log("view.js");const r=(0,t.createContext)(),n=({children:n})=>{const[l,a]=(0,t.useState)({}),o=(0,t.useCallback)(((e,t)=>{a((r=>({...r,[e]:[...r[e]||[],t]})))}),[]),c=(0,t.useCallback)(((e,t)=>{l[e]?.forEach((e=>e(t)))}),[l]);return(0,e.createElement)(r.Provider,{value:{subscribeToEvent:o,emitEvent:c}},n)},l=({color:t,productId:r,counterValue:n,isActive:l,onActiveChange:a})=>(0,e.createElement)("div",{style:{padding:"10px",margin:"5px",border:l?"2px solid blue":"none",backgroundColor:t,color:"#ffffff"}},(0,e.createElement)("input",{style:{cursor:"pointer"},type:"radio",name:"counterGroup",checked:l,onChange:()=>a(r),id:`counter-${r}`}),(0,e.createElement)("label",{htmlFor:`counter-${r}`,style:{}},n||"")),a=({totalCounterValue:t})=>{const r=[3,6,9,12,15],n=r[r.length-1],l=t/n*100;return(0,e.createElement)("div",{className:"progress-container"},(0,e.createElement)("div",{className:"progress-bar",style:{width:`${l}%`}}),r.map((t=>{const r=t/n*100;return(0,e.createElement)("div",{key:t,className:"step-marker",style:{left:`${r}%`}})})))},o=document.querySelector("#app-1");(0,t.render)((0,e.createElement)((()=>{const[r,o]=(0,t.useState)({1:{min:0,max:20,color:"#deb0a1",counterValue:0,imageUrl:"/wp-content/uploads/2024/03/61pcyODhE4L._AC_SX679_.jpg",productDescription:"Silver infused Extra Soft Toothbrush for Adults - Dual Length Bristles for Interdental Cleaning.",price:8.89},2:{min:0,max:20,color:"#f29891",counterValue:0,imageUrl:"/wp-content/uploads/2024/03/61pWFSOfb-L._AC_SX679_.jpg",productDescription:"Silver infused Extra Soft Toothbrush for Adults - Dual Length Bristles for Interdental Cleaning.",price:8.89},3:{min:0,max:20,color:"#5467ac",counterValue:0,imageUrl:"/wp-content/uploads/2024/03/61QN62tdqhL._AC_SX679_.jpg",productDescription:"Silver infused Extra Soft Toothbrush for Adults - Dual Length Bristles for Interdental Cleaning.",price:8.89},4:{min:0,max:20,color:"#2b6486",counterValue:0,imageUrl:"/wp-content/uploads/2024/03/613AaVICUCL._AC_SX679_.jpg",productDescription:"Silver infused Extra Soft Toothbrush for Adults - Dual Length Bristles for Interdental Cleaning.",price:8.89}}),[c,i]=(0,t.useState)("1"),u=Object.values(r).reduce(((e,t)=>(e.totalCounterValue+=t.counterValue,e.totalPrice+=t.counterValue*t.price,e)),{totalCounterValue:0,totalPrice:0}),s=e=>{i(e)};return(0,e.createElement)(n,null,(0,e.createElement)("div",{style:{padding:"0 0 3em 0"}},(0,e.createElement)("div",{style:{display:"flex",flexDirection:"column",borderRadius:"4px",alignItems:"center",height:"",background:"#0092FB",padding:"0.5em 1em 2em 1em"}},(0,e.createElement)("div",{style:{margin:"10px 0",color:"#fff"}},"Buy more & save more"),(0,e.createElement)(a,{totalCounterValue:u.totalCounterValue})),(0,e.createElement)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-around",color:"#ffffff",background:"#0092FB",margin:"10px 0",padding:"0.5em",borderRadius:"4px"}},(0,e.createElement)("div",null,u.totalPrice.toFixed(2),"€"),(0,e.createElement)("div",{style:{background:"#ffffff",color:"#000000",padding:"0.2em",borderRadius:"4px"}},"-00% OFF"),(0,e.createElement)("div",{style:{display:"flex",columnGap:"0.5em"}},(0,e.createElement)("div",{style:{display:"flex",justifyContent:"center",background:"#ffffff",color:"#000",borderRadius:"50%",width:"27px",height:"auto"}},(0,e.createElement)("span",null,u.totalCounterValue)),(0,e.createElement)("div",null,"View Order"))),(0,e.createElement)("div",{style:{marginTop:"20px"}}),(0,e.createElement)("div",{style:{marginTop:"20px"}}),(0,e.createElement)("div",{style:{margin:"20px 0",textAlign:"center"}},(0,e.createElement)("img",{src:r[c].imageUrl,alt:"Active Counter",style:{maxWidth:"auto",maxHeight:"300px"}})),(0,e.createElement)("div",{style:{display:"flex",margin:"10px 0",columnGap:"0.75em",alignItems:"flex-start"}},(0,e.createElement)("div",{style:{border:"1px",borderColor:"grey",borderStyle:"solid",padding:"0.5em"}},r[c].price,"€"),(0,e.createElement)("div",{style:{fontSize:"14px"}},r[c].productDescription)),(0,e.createElement)("div",{style:{display:"flex",justifyContent:"center",margin:"10px 0 0 0"}},Object.keys(r).map((t=>(0,e.createElement)(l,{key:t,productId:t,min:r[t].min,max:r[t].max,color:r[t].color,counterValue:r[t].counterValue,isActive:c===t,onActiveChange:s})))),(0,e.createElement)("p",{style:{textAlign:"center",margin:"5px 0"}},"Select colour and quantity"),(0,e.createElement)("div",{style:{display:"flex",justifyContent:"center",background:"#d7d7d7",padding:"0.75em 1em",width:"200px",margin:"auto",borderRadius:"8px"}},(0,e.createElement)("button",{style:{cursor:"pointer",height:"30px",width:"30px"},onClick:()=>{console.log("handleDecrement ",c),o((e=>({...e,[c]:{...e[c],counterValue:Math.max(e[c].counterValue-1,e[c].min)}})))}},"-"),(0,e.createElement)("span",{style:{margin:"0 10px"}},r[c].counterValue>0?r[c].counterValue:""),(0,e.createElement)("button",{style:{cursor:"pointer",height:"30px",width:"30px"},onClick:()=>{console.log("handleIncrement ",c),o((e=>({...e,[c]:{...e[c],counterValue:Math.min(e[c].counterValue+1,e[c].max)}})))}},"+"))))}),null),o)})();