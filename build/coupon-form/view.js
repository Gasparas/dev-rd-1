(()=>{"use strict";var t={63:(t,e,r)=>{var o=r(609),a="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},c=o.useState,n=o.useEffect,i=o.useLayoutEffect,s=o.useDebugValue;function u(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!a(t,r)}catch(t){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(t,e){return e()}:function(t,e){var r=e(),o=c({inst:{value:r,getSnapshot:e}}),a=o[0].inst,l=o[1];return i((function(){a.value=r,a.getSnapshot=e,u(a)&&l({inst:a})}),[t,r,e]),n((function(){return u(a)&&l({inst:a}),t((function(){u(a)&&l({inst:a})}))}),[t]),s(r),r};e.useSyncExternalStore=void 0!==o.useSyncExternalStore?o.useSyncExternalStore:l},940:(t,e,r)=>{var o=r(609),a=r(888),c="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},n=a.useSyncExternalStore,i=o.useRef,s=o.useEffect,u=o.useMemo,l=o.useDebugValue;e.useSyncExternalStoreWithSelector=function(t,e,r,o,a){var d=i(null);if(null===d.current){var p={hasValue:!1,value:null};d.current=p}else p=d.current;d=u((function(){function t(t){if(!s){if(s=!0,n=t,t=o(t),void 0!==a&&p.hasValue){var e=p.value;if(a(e,t))return i=e}return i=t}if(e=i,c(n,t))return e;var r=o(t);return void 0!==a&&a(e,r)?e:(n=t,i=r)}var n,i,s=!1,u=void 0===r?null:r;return[function(){return t(e())},null===u?void 0:function(){return t(u())}]}),[e,r,o,a]);var y=n(t,d[0],d[1]);return s((function(){p.hasValue=!0,p.value=y}),[y]),l(y),y}},888:(t,e,r)=>{t.exports=r(63)},242:(t,e,r)=>{t.exports=r(940)},609:t=>{t.exports=window.React}},e={};function r(o){var a=e[o];if(void 0!==a)return a.exports;var c=e[o]={exports:{}};return t[o](c,c.exports,r),c.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t=r(609);const e=window.wp.element,o=window.wp.apiFetch;var a=r.n(o);const c=t=>{let e;const r=new Set,o=(t,o)=>{const a="function"==typeof t?t(e):t;if(!Object.is(a,e)){const t=e;e=(null!=o?o:"object"!=typeof a||null===a)?a:Object.assign({},e,a),r.forEach((r=>r(e,t)))}},a=()=>e,c={setState:o,getState:a,getInitialState:()=>n,subscribe:t=>(r.add(t),()=>r.delete(t)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},n=e=t(o,a,c);return c};var n=r(242);const{useDebugValue:i}=t,{useSyncExternalStoreWithSelector:s}=n;let u=!1;const l=t=>t,d=t=>{"function"!=typeof t&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e="function"==typeof t?(t=>t?c(t):c)(t):t,r=(t,r)=>function(t,e=l,r){r&&!u&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),u=!0);const o=s(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return i(o),o}(e,t,r);return Object.assign(r,e),r},p=window.lodash;function y(t,e){let r;return function(...o){clearTimeout(r),r=setTimeout((()=>{clearTimeout(r),t(...o)}),e)}}void 0===window.throttle&&(window.throttle=p.throttle),void 0===window.debounce&&(window.debounce=y);const m={},f={},h=t=>{for(const[e,r]of Object.entries(t))console.log(`${e}:`,r)};var _;window.myGlobalStore=window.myGlobalStore||((_=(t,e)=>({totalCartUpdate:0,cartProducts:[],totalQuantity:0,totalPrice:0,totalSalePrice:0,totalDiscountPrice:0,currencyData:{currency_code:"EUR",currency_decimal_separator:".",currency_minor_unit:2,currency_prefix:"",currency_suffix:"€",currency_symbol:"€",currency_thousand_separator:""},isLoading:!1,error:"",isAddingToCart:!1,cartAdditions:{},cartRemovals:{},cartCoupons:[],triggerUpdateProductDisplayPrices:!1,fetchCart:async()=>{try{const e=await a()({path:"/wc/store/cart"}),r=(await a()({path:"/custom/v1/shipping-methods",method:"GET"})).find((t=>"flat_rate"===t.id)),o=r?parseFloat(r.cost):0,c=wc_free_shipping_data.threshold,n=parseFloat(e.totals.total_items)/100||0,i=parseFloat(e.totals.total_price)/100||0,s=i>=c?0:o,u=Math.max(n,0).toFixed(2),l=Math.max(i-s,0).toFixed(2);h({totalPriceMinusShipping:u,totalSalePriceMinusShipping:l}),t({cartProducts:e.items,totalQuantity:e.items.reduce(((t,e)=>t+e.quantity),0),totalPrice:n,totalPriceMinusShipping:u,totalSalePrice:i,totalSalePriceMinusShipping:l,shippingTotal:s,currencyData:{currency_code:e.totals.currency_code,currency_decimal_separator:e.totals.currency_decimal_separator,currency_minor_unit:e.totals.currency_minor_unit,currency_prefix:e.totals.currency_prefix,currency_suffix:e.totals.currency_suffix,currency_symbol:e.totals.currency_symbol,currency_thousand_separator:e.totals.currency_thousand_separator},cartCoupons:e.coupons,error:""})}catch(e){console.error("Error fetching cart:",e),t({error:"Failed to fetch cart."})}},applyCoupon:async e=>{console.log(`Applying coupon: ${e}`);try{const r=await a()({path:"/wc/store/v1/cart/apply-coupon",method:"POST",data:{code:e}});console.log(`Coupon ${e} applied.`);const o=await a()({path:"/wc/store/cart"}),c=(await a()({path:"/custom/v1/shipping-methods",method:"GET"})).find((t=>"flat_rate"===t.id)),n=c?parseFloat(c.cost):0,i=wc_free_shipping_data.threshold,s=parseFloat(o.totals.total_items)/100||0,u=parseFloat(o.totals.total_price)/100||0,l=u>=i?0:n,d=Math.max(u-l,0).toFixed(2),p=Math.max(s,0).toFixed(2);return t({triggerUpdateProductDisplayPrices:!0}),setTimeout((()=>{t({triggerUpdateProductDisplayPrices:!1})}),200),h({totalPriceMinusShipping:p,totalSalePriceMinusShipping:d}),t({totalPrice:parseFloat(r.totals.total_items)/100,totalPriceMinusShipping:p,totalSalePrice:parseFloat(r.totals.total_price)/100,totalSalePriceMinusShipping:d,totalDiscountPrice:parseFloat(r.totals.total_discount)/100,currencyData:{currency_code:r.totals.currency_code,currency_decimal_separator:r.totals.currency_decimal_separator,currency_minor_unit:r.totals.currency_minor_unit,currency_prefix:r.totals.currency_prefix,currency_suffix:r.totals.currency_suffix,currency_symbol:r.totals.currency_symbol,currency_thousand_separator:r.totals.currency_thousand_separator},cartCoupons:r.coupons}),r}catch(t){throw console.error(`Error applying coupon ${e}:`,t),t}},applyCouponNew:async e=>{console.log(`Applying coupon: ${e}`);try{const r=await a()({path:"/wc/store/v1/cart/apply-coupon",method:"POST",data:{code:e}});console.log(`Coupon ${e} applied.`);const o=await a()({path:"/custom/v1/shipping-methods",method:"GET"}),c=(await o.json()).find((t=>"flat_rate"===t.id)),n=c?parseFloat(c.cost):0,i=wc_free_shipping_data.threshold,s=parseFloat(cart.totals.total_items)/100||0,u=parseFloat(cart.totals.total_price)/100||0,l=u>=i?0:n,d=Math.max(s,0).toFixed(2),p=Math.max(u-l,0).toFixed(2);return t({triggerUpdateProductDisplayPrices:!0}),setTimeout((()=>{t({triggerUpdateProductDisplayPrices:!1})}),200),t({cartProducts:cart.items,totalQuantity:cart.items.reduce(((t,e)=>t+e.quantity),0),totalPrice:s,totalPriceMinusShipping:d,totalSalePrice:u,totalSalePriceMinusShipping:p,shippingTotal:l,currencyData:{currency_code:cart.totals.currency_code,currency_decimal_separator:cart.totals.currency_decimal_separator,currency_minor_unit:cart.totals.currency_minor_unit,currency_prefix:cart.totals.currency_prefix,currency_suffix:cart.totals.currency_suffix,currency_symbol:cart.totals.currency_symbol,currency_thousand_separator:cart.totals.currency_thousand_separator},cartCoupons:cart.coupons,error:""}),r}catch(t){throw console.error(`Error applying coupon ${e}:`,t),t}},wc_price:(t,r=!0)=>{const{currency_code:o,currency_decimal_separator:a,currency_minor_unit:c,currency_prefix:n,currency_suffix:i,currency_symbol:s,currency_thousand_separator:u}=e().currencyData,l=t.toFixed(c),[d,p]=l.split(".");let y=n+d.replace(/\B(?=(\d{3})+(?!\d))/g,u);return p&&(y+=a+p),y+=i,r?`<span class="woocommerce-Price-amount amount"><bdi>${y}</bdi></span>`:y},addToCart:r=>{const o=e().cartAdditions[r]||0;t((t=>({cartAdditions:{...t.cartAdditions,[r]:o+1}}))),m[r]||(m[r]=y((async()=>{t({isLoading:!0});try{const o=e().cartAdditions[r];console.log(`Adding ${o} of product ${r} to cart.`),await a()({path:"/wc/store/cart/add-item",method:"POST",data:{id:r,quantity:o}});const c=new Event("added_to_cart");document.dispatchEvent(c),t((t=>({cartAdditions:{...t.cartAdditions,[r]:0}}))),e().fetchCart()}catch(e){console.error("Error adding item to cart:",e),t({error:"Failed to add item to cart."})}finally{t({isLoading:!1})}}),300)),m[r]()},remFromCart:r=>{const o=e().cartRemovals[r]||0;t((t=>({cartRemovals:{...t.cartRemovals,[r]:o+1}}))),f[r]||(f[r]=y((async()=>{t({isLoading:!0});const o=e().cartProducts.find((t=>t.id===r));if(!o)return console.error("Item not found in cart:",r),void t({isLoading:!1});try{const c={key:o.key,quantity:o.quantity-e().cartRemovals[r]};t((t=>({cartRemovals:{...t.cartRemovals,[r]:0}}))),await a()({path:c.quantity>0?"/wc/store/cart/update-item":"/wc/store/cart/remove-item",method:"POST",data:c}),console.log(`Updated cart for product ${r}.`),e().fetchCart()}catch(e){console.error("Error updating cart:",e),t({error:"Failed to update cart."})}finally{t({isLoading:!1}),e().triggerTotalCartUpdate()}}),300)),f[r]()},triggerTotalCartUpdate:()=>{t((t=>({totalCartUpdate:t.totalCartUpdate+1})))}}))?d(_):d);const g=window.myGlobalStore;var w={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const v=((e,r)=>{const o=(0,t.forwardRef)((({color:o="currentColor",size:a=24,strokeWidth:c=2,absoluteStrokeWidth:n,className:i="",children:s,...u},l)=>{return(0,t.createElement)("svg",{ref:l,...w,width:a,height:a,stroke:o,strokeWidth:n?24*Number(c)/Number(a):c,className:["lucide",`lucide-${d=e,d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,i].join(" "),...u},[...r.map((([e,r])=>(0,t.createElement)(e,r))),...Array.isArray(s)?s:[s]]);var d}));return o.displayName=`${e}`,o})("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);console.log("coupon-code js"),document.querySelector("#root-coupon-form")&&ReactDOM.createRoot(document.querySelector("#root-coupon-form")).render((0,t.createElement)((function(){const{applyCoupon:r,cartCoupons:o}=g((t=>({applyCoupon:t.applyCoupon,cartCoupons:t.cartCoupons}))),[a,c]=(0,e.useState)(""),[n,i]=(0,e.useState)(!1),[s,u]=(0,e.useState)(""),l=o.map((t=>t.code));return(0,t.createElement)("div",{className:"p-2 rounded bg-amber-200"},(0,t.createElement)("form",{className:"flex justify-center gap-x-2",onSubmit:async t=>{t.preventDefault(),u(""),r(a).then((t=>{t&&i(!0)})).catch((t=>{u(t.message)}))}},n||l.length?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("p",{className:"text-base uppercase text-sky-900"},"Kod rabatowy: ",l.join(", ")),(0,t.createElement)(v,{color:"#0c4a6e"})):(0,t.createElement)(t.Fragment,null,(0,t.createElement)("input",{className:"px-1 text-base font-light rounded basis-4/6",type:"text",placeholder:"Wprowadź kod rabatowy",value:a,onChange:t=>{c(t.target.value)}}),(0,t.createElement)("button",{className:"px-2 text-base font-medium text-center uppercase transition-all bg-white hover:text-white hover:bg-sky-700 w-3/8 rounded-xl text-sky-900 basis-2/6",type:"submit"},"Aktywuj"))))}),null))})()})();